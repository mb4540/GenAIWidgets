<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Architectural Review - GenAIWidgets</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #0a0a0a; color: #fafafa; display: flex; min-height: 100vh; }
    
    /* Sidebar */
    .sidebar { width: 280px; background: #111; border-right: 1px solid #333; position: fixed; height: 100vh; overflow-y: auto; }
    .sidebar-header { padding: 20px; border-bottom: 1px solid #333; }
    .sidebar-header h1 { font-size: 18px; margin-bottom: 4px; }
    .sidebar-header p { font-size: 12px; color: #888; }
    .nav-section { padding: 16px; }
    .nav-section h3 { font-size: 11px; text-transform: uppercase; color: #666; margin-bottom: 12px; letter-spacing: 0.5px; }
    .nav-item { display: flex; align-items: center; gap: 8px; padding: 10px 12px; border-radius: 6px; cursor: pointer; margin-bottom: 4px; text-decoration: none; color: #ccc; font-size: 14px; }
    .nav-item:hover { background: #222; }
    .nav-item.active { background: #2563eb; color: white; }
    .badge { font-size: 10px; padding: 2px 6px; border-radius: 4px; margin-left: auto; }
    .badge-new { background: #22c55e; color: white; }
    .badge-modified { background: #f59e0b; color: black; }
    .badge-context { background: #6b7280; color: white; }
    
    /* Main Content */
    .main { margin-left: 280px; flex: 1; }
    .header { padding: 24px 32px; border-bottom: 1px solid #333; background: #111; position: sticky; top: 0; z-index: 10; }
    .header h1 { font-size: 24px; margin-bottom: 8px; }
    .scope-summary { display: flex; gap: 24px; font-size: 13px; color: #888; }
    .scope-stat { display: flex; align-items: center; gap: 6px; }
    .filter-bar { display: flex; gap: 8px; margin-top: 16px; }
    .filter-btn { padding: 6px 12px; border-radius: 6px; border: 1px solid #333; background: transparent; color: #888; cursor: pointer; font-size: 12px; }
    .filter-btn.active { background: #2563eb; border-color: #2563eb; color: white; }
    
    .content { padding: 32px; }
    
    /* Component Cards */
    .component-card { background: #111; border: 1px solid #333; border-radius: 12px; margin-bottom: 24px; overflow: hidden; }
    .card-header { padding: 20px 24px; border-bottom: 1px solid #333; display: flex; justify-content: space-between; align-items: flex-start; }
    .card-title { display: flex; align-items: center; gap: 12px; }
    .card-title h2 { font-size: 18px; }
    .card-path { font-size: 12px; color: #666; font-family: monospace; margin-top: 4px; }
    .scope-badge { font-size: 11px; padding: 4px 10px; border-radius: 20px; font-weight: 500; }
    .scope-badge.new { background: #22c55e20; color: #22c55e; border: 1px solid #22c55e40; }
    .scope-badge.modified { background: #f59e0b20; color: #f59e0b; border: 1px solid #f59e0b40; }
    .scope-badge.context { background: #6b728020; color: #9ca3af; border: 1px solid #6b728040; }
    
    /* Visual Representation */
    .visual-rep { padding: 24px; background: #0d0d0d; border-bottom: 1px solid #333; }
    .mock-ui { background: #1a1a1a; border: 1px solid #333; border-radius: 8px; padding: 16px; min-height: 120px; }
    .mock-header { background: #222; padding: 12px 16px; border-radius: 6px; margin-bottom: 12px; font-size: 14px; font-weight: 500; }
    .mock-content { display: flex; gap: 12px; flex-wrap: wrap; }
    .mock-card { background: #222; border: 1px solid #333; border-radius: 6px; padding: 12px; flex: 1; min-width: 100px; }
    .mock-card-title { font-size: 11px; color: #666; margin-bottom: 4px; }
    .mock-card-value { font-size: 20px; font-weight: 600; }
    .mock-input { background: #222; border: 1px solid #333; border-radius: 6px; padding: 10px 14px; width: 100%; color: #888; font-size: 13px; }
    .mock-btn { background: #2563eb; color: white; border: none; padding: 10px 20px; border-radius: 6px; font-size: 13px; cursor: pointer; }
    .mock-form { display: flex; flex-direction: column; gap: 12px; max-width: 300px; }
    .mock-label { font-size: 12px; color: #888; margin-bottom: 4px; }
    .mock-nav { display: flex; gap: 8px; margin-bottom: 12px; }
    .mock-nav-item { padding: 8px 16px; background: #222; border-radius: 6px; font-size: 12px; color: #888; }
    .mock-nav-item.active { background: #2563eb; color: white; }
    .mock-table { width: 100%; border-collapse: collapse; font-size: 12px; }
    .mock-table th, .mock-table td { padding: 10px 12px; text-align: left; border-bottom: 1px solid #333; }
    .mock-table th { color: #666; font-weight: 500; }
    
    /* Technical Details */
    .tech-details { border-bottom: 1px solid #333; }
    .tech-toggle { width: 100%; padding: 16px 24px; background: transparent; border: none; color: #888; font-size: 13px; cursor: pointer; display: flex; align-items: center; gap: 8px; text-align: left; }
    .tech-toggle:hover { background: #1a1a1a; }
    .tech-content { padding: 0 24px 24px; display: none; }
    .tech-content.open { display: block; }
    .tech-section { margin-bottom: 20px; }
    .tech-section h4 { font-size: 12px; text-transform: uppercase; color: #666; margin-bottom: 10px; letter-spacing: 0.5px; }
    .tech-list { list-style: none; }
    .tech-list li { padding: 6px 0; font-size: 13px; color: #ccc; font-family: monospace; }
    .tech-list li::before { content: "‚Üí"; margin-right: 8px; color: #666; }
    .tech-table { width: 100%; font-size: 12px; border-collapse: collapse; }
    .tech-table th, .tech-table td { padding: 8px 12px; text-align: left; border: 1px solid #333; }
    .tech-table th { background: #1a1a1a; color: #888; }
    .tech-table td { font-family: monospace; }
    
    /* Review Notes */
    .review-section { padding: 24px; }
    .review-section h3 { font-size: 14px; margin-bottom: 16px; }
    .review-options { display: flex; gap: 16px; margin-bottom: 16px; }
    .review-option { display: flex; align-items: center; gap: 8px; cursor: pointer; }
    .review-option input { accent-color: #2563eb; }
    .review-textarea { width: 100%; min-height: 100px; background: #0a0a0a; border: 1px solid #333; border-radius: 8px; padding: 12px; color: #ccc; font-size: 13px; resize: vertical; }
    .review-textarea:focus { outline: none; border-color: #2563eb; }
    .review-textarea:disabled { opacity: 0.5; cursor: not-allowed; }
    
    /* Export Button */
    .export-section { position: fixed; bottom: 24px; right: 24px; }
    .export-btn { background: #2563eb; color: white; border: none; padding: 14px 28px; border-radius: 8px; font-size: 14px; font-weight: 500; cursor: pointer; box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3); }
    .export-btn:hover { background: #1d4ed8; }
    
    /* Utilities */
    .hidden { display: none !important; }
  </style>
</head>
<body>
  <!-- Sidebar Navigation -->
  <aside class="sidebar">
    <div class="sidebar-header">
      <h1>GenAIWidgets</h1>
      <p>Architectural Review ¬∑ Jan 16, 2026</p>
    </div>
    
    <div class="nav-section">
      <h3>Public Pages</h3>
      <a href="#homepage" class="nav-item" data-scope="unchanged">HomePage<span class="badge badge-context">‚ö™</span></a>
      <a href="#loginpage" class="nav-item" data-scope="unchanged">LoginPage<span class="badge badge-context">‚ö™</span></a>
      <a href="#signuppage" class="nav-item" data-scope="unchanged">SignupPage<span class="badge badge-context">‚ö™</span></a>
    </div>
    
    <div class="nav-section">
      <h3>Protected Pages</h3>
      <a href="#dashboardpage" class="nav-item" data-scope="unchanged">DashboardPage<span class="badge badge-context">‚ö™</span></a>
      <a href="#aigatewaychatpage" class="nav-item" data-scope="unchanged">AiGatewayChatPage<span class="badge badge-context">‚ö™</span></a>
      <a href="#filespage" class="nav-item" data-scope="unchanged">FilesPage<span class="badge badge-context">‚ö™</span></a>
      <a href="#ragpreprocessingpage" class="nav-item" data-scope="unchanged">RagPreprocessingPage<span class="badge badge-context">‚ö™</span></a>
      <a href="#adminpage" class="nav-item" data-scope="unchanged">AdminPage<span class="badge badge-context">‚ö™</span></a>
    </div>
    
    <div class="nav-section">
      <h3>Layout Components</h3>
      <a href="#applayout" class="nav-item" data-scope="unchanged">AppLayout<span class="badge badge-context">‚ö™</span></a>
      <a href="#protectedroute" class="nav-item" data-scope="unchanged">ProtectedRoute<span class="badge badge-context">‚ö™</span></a>
    </div>
    
    <div class="nav-section">
      <h3>Contexts</h3>
      <a href="#authcontext" class="nav-item" data-scope="unchanged">AuthContext<span class="badge badge-context">‚ö™</span></a>
    </div>
  </aside>

  <!-- Main Content -->
  <div class="main">
    <header class="header">
      <h1>Architectural Review Replica</h1>
      <div class="scope-summary">
        <div class="scope-stat"><span style="color:#22c55e">‚óè</span> 0 New</div>
        <div class="scope-stat"><span style="color:#f59e0b">‚óè</span> 0 Modified</div>
        <div class="scope-stat"><span style="color:#6b7280">‚óè</span> 11 Unchanged</div>
        <div class="scope-stat">Mode: full</div>
      </div>
      <div class="filter-bar">
        <button class="filter-btn active" data-filter="all">All</button>
        <button class="filter-btn" data-filter="new">üÜï New</button>
        <button class="filter-btn" data-filter="modified">‚úèÔ∏è Modified</button>
        <button class="filter-btn" data-filter="context">üìé Context</button>
        <button class="filter-btn" data-filter="unchanged">‚ö™ Unchanged</button>
      </div>
    </header>

    <div class="content">
      <!-- COMPONENT: HomePage -->
      <div id="homepage" class="component-card" data-scope="unchanged">
        <div class="card-header">
          <div class="card-title">
            <div>
              <h2>HomePage</h2>
              <div class="card-path">src/pages/HomePage.tsx</div>
            </div>
          </div>
          <span class="scope-badge context">‚ö™ UNCHANGED</span>
        </div>
        <div class="visual-rep">
          <div class="mock-ui">
            <div style="text-align:center; padding: 40px 20px;">
              <div style="font-size: 28px; font-weight: 700; margin-bottom: 12px;">GenAI Widgets</div>
              <div style="color: #888; margin-bottom: 24px; font-size: 14px;">A production-ready scaffolding template...</div>
              <div style="display: flex; gap: 12px; justify-content: center;">
                <button class="mock-btn">Get started</button>
                <button style="background: transparent; border: none; color: #ccc; font-size: 13px; cursor: pointer;">Sign in ‚Üí</button>
              </div>
            </div>
          </div>
        </div>
        <div class="tech-details">
          <button class="tech-toggle" onclick="toggleTech(this)">‚ñ∂ Technical Details</button>
          <div class="tech-content">
            <div class="tech-section">
              <h4>Props</h4>
              <ul class="tech-list"><li>None (uses useAuth hook)</li></ul>
            </div>
            <div class="tech-section">
              <h4>State</h4>
              <ul class="tech-list"><li>user (from AuthContext via useAuth)</li></ul>
            </div>
            <div class="tech-section">
              <h4>APIs Called</h4>
              <ul class="tech-list"><li>None (static page)</li></ul>
            </div>
            <div class="tech-section">
              <h4>Database Impact</h4>
              <ul class="tech-list"><li>None</li></ul>
            </div>
          </div>
        </div>
        <div class="review-section">
          <h3>Review Notes</h3>
          <div class="review-options">
            <label class="review-option"><input type="radio" name="review-homepage" value="accept"> ‚úÖ Accept</label>
            <label class="review-option"><input type="radio" name="review-homepage" value="change"> üîÑ Change Request</label>
            <label class="review-option"><input type="radio" name="review-homepage" value="enhance"> ‚ú® Enhancement</label>
          </div>
          <textarea class="review-textarea" placeholder="Add notes for this component..."></textarea>
        </div>
      </div>

      <!-- COMPONENT: LoginPage -->
      <div id="loginpage" class="component-card" data-scope="unchanged">
        <div class="card-header">
          <div class="card-title">
            <div>
              <h2>LoginPage</h2>
              <div class="card-path">src/pages/auth/LoginPage.tsx</div>
            </div>
          </div>
          <span class="scope-badge context">‚ö™ UNCHANGED</span>
        </div>
        <div class="visual-rep">
          <div class="mock-ui">
            <div style="max-width: 320px; margin: 0 auto; padding: 20px;">
              <div style="text-align: center; margin-bottom: 24px;">
                <div style="font-size: 20px; font-weight: 600; margin-bottom: 8px;">Sign in to your account</div>
                <div style="font-size: 12px; color: #888;">Or <span style="color: #2563eb;">create a new account</span></div>
              </div>
              <div class="mock-form">
                <div><div class="mock-label">Email address</div><input class="mock-input" placeholder="you@example.com"></div>
                <div><div class="mock-label">Password</div><input class="mock-input" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"></div>
                <button class="mock-btn" style="width: 100%;">Sign in</button>
              </div>
            </div>
          </div>
        </div>
        <div class="tech-details">
          <button class="tech-toggle" onclick="toggleTech(this)">‚ñ∂ Technical Details</button>
          <div class="tech-content">
            <div class="tech-section">
              <h4>State</h4>
              <ul class="tech-list">
                <li>email: string</li>
                <li>password: string</li>
                <li>error: string</li>
                <li>loading: boolean</li>
              </ul>
            </div>
            <div class="tech-section">
              <h4>APIs Called</h4>
              <table class="tech-table">
                <tr><th>Endpoint</th><th>Method</th><th>Purpose</th></tr>
                <tr><td>/api/auth/signin</td><td>POST</td><td>Authenticate user</td></tr>
              </table>
            </div>
            <div class="tech-section">
              <h4>Database Impact</h4>
              <table class="tech-table">
                <tr><th>Table</th><th>Operation</th><th>Columns</th></tr>
                <tr><td>users</td><td>SELECT</td><td>email, password_hash</td></tr>
              </table>
            </div>
          </div>
        </div>
        <div class="review-section">
          <h3>Review Notes</h3>
          <div class="review-options">
            <label class="review-option"><input type="radio" name="review-loginpage" value="accept"> ‚úÖ Accept</label>
            <label class="review-option"><input type="radio" name="review-loginpage" value="change"> üîÑ Change Request</label>
            <label class="review-option"><input type="radio" name="review-loginpage" value="enhance"> ‚ú® Enhancement</label>
          </div>
          <textarea class="review-textarea" placeholder="Add notes for this component..."></textarea>
        </div>
      </div>

      <!-- COMPONENT: SignupPage -->
      <div id="signuppage" class="component-card" data-scope="unchanged">
        <div class="card-header">
          <div class="card-title">
            <div>
              <h2>SignupPage</h2>
              <div class="card-path">src/pages/auth/SignupPage.tsx</div>
            </div>
          </div>
          <span class="scope-badge context">‚ö™ UNCHANGED</span>
        </div>
        <div class="visual-rep">
          <div class="mock-ui">
            <div style="max-width: 320px; margin: 0 auto; padding: 20px;">
              <div style="text-align: center; margin-bottom: 24px;">
                <div style="font-size: 20px; font-weight: 600; margin-bottom: 8px;">Create your account</div>
                <div style="font-size: 12px; color: #888;">Already have an account? <span style="color: #2563eb;">Sign in</span></div>
              </div>
              <div class="mock-form">
                <div><div class="mock-label">Full name</div><input class="mock-input" placeholder="John Doe"></div>
                <div><div class="mock-label">Organization</div><select class="mock-input"><option>Select an organization</option></select></div>
                <div><div class="mock-label">Email address</div><input class="mock-input" placeholder="you@example.com"></div>
                <div><div class="mock-label">Password</div><input class="mock-input" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"></div>
                <button class="mock-btn" style="width: 100%;">Create account</button>
              </div>
            </div>
          </div>
        </div>
        <div class="tech-details">
          <button class="tech-toggle" onclick="toggleTech(this)">‚ñ∂ Technical Details</button>
          <div class="tech-content">
            <div class="tech-section">
              <h4>State</h4>
              <ul class="tech-list">
                <li>email, password, fullName: string</li>
                <li>selectedTenantId: string</li>
                <li>tenants: TenantOption[]</li>
                <li>loadingTenants, loading: boolean</li>
              </ul>
            </div>
            <div class="tech-section">
              <h4>APIs Called</h4>
              <table class="tech-table">
                <tr><th>Endpoint</th><th>Method</th><th>Purpose</th></tr>
                <tr><td>/api/tenants/list</td><td>GET</td><td>Fetch available tenants</td></tr>
                <tr><td>/api/auth/signup</td><td>POST</td><td>Create user account</td></tr>
              </table>
            </div>
            <div class="tech-section">
              <h4>Database Impact</h4>
              <table class="tech-table">
                <tr><th>Table</th><th>Operation</th><th>Columns</th></tr>
                <tr><td>tenants</td><td>SELECT</td><td>tenant_id, name, slug</td></tr>
                <tr><td>users</td><td>INSERT</td><td>email, password_hash, full_name</td></tr>
                <tr><td>memberships</td><td>INSERT</td><td>tenant_id, user_id, role</td></tr>
              </table>
            </div>
          </div>
        </div>
        <div class="review-section">
          <h3>Review Notes</h3>
          <div class="review-options">
            <label class="review-option"><input type="radio" name="review-signuppage" value="accept"> ‚úÖ Accept</label>
            <label class="review-option"><input type="radio" name="review-signuppage" value="change"> üîÑ Change Request</label>
            <label class="review-option"><input type="radio" name="review-signuppage" value="enhance"> ‚ú® Enhancement</label>
          </div>
          <textarea class="review-textarea" placeholder="Add notes for this component..."></textarea>
        </div>
      </div>

      <!-- COMPONENT: DashboardPage -->
      <div id="dashboardpage" class="component-card" data-scope="unchanged">
        <div class="card-header">
          <div class="card-title">
            <div>
              <h2>DashboardPage</h2>
              <div class="card-path">src/pages/dashboard/DashboardPage.tsx</div>
            </div>
          </div>
          <span class="scope-badge context">‚ö™ UNCHANGED</span>
        </div>
        <div class="visual-rep">
          <div class="mock-ui">
            <div class="mock-header">Dashboard</div>
            <div class="mock-content">
              <div class="mock-card"><div class="mock-card-title">Total Files</div><div class="mock-card-value">24</div></div>
              <div class="mock-card"><div class="mock-card-title">Extracted</div><div class="mock-card-value">18</div></div>
              <div class="mock-card"><div class="mock-card-title">Q&A Pairs</div><div class="mock-card-value">156</div></div>
              <div class="mock-card"><div class="mock-card-title">Pending</div><div class="mock-card-value">3</div></div>
            </div>
            <div style="margin-top: 16px; padding: 12px; background: #222; border-radius: 6px;">
              <div style="font-size: 12px; color: #888; margin-bottom: 8px;">Recent Activity</div>
              <div style="font-size: 13px; color: #ccc;">‚Ä¢ File uploaded: report.pdf</div>
            </div>
          </div>
        </div>
        <div class="tech-details">
          <button class="tech-toggle" onclick="toggleTech(this)">‚ñ∂ Technical Details</button>
          <div class="tech-content">
            <div class="tech-section">
              <h4>State</h4>
              <ul class="tech-list">
                <li>stats: DashboardStats | null</li>
                <li>loading: boolean</li>
                <li>error: string | null</li>
              </ul>
            </div>
            <div class="tech-section">
              <h4>APIs Called</h4>
              <table class="tech-table">
                <tr><th>Endpoint</th><th>Method</th><th>Purpose</th></tr>
                <tr><td>/api/dashboard/stats</td><td>GET</td><td>Fetch dashboard statistics</td></tr>
              </table>
            </div>
            <div class="tech-section">
              <h4>Database Impact</h4>
              <table class="tech-table">
                <tr><th>Table</th><th>Operation</th><th>Columns</th></tr>
                <tr><td>files</td><td>SELECT COUNT</td><td>tenant_id, status</td></tr>
                <tr><td>extraction_jobs</td><td>SELECT COUNT</td><td>tenant_id, status</td></tr>
                <tr><td>qa_pairs</td><td>SELECT COUNT</td><td>tenant_id</td></tr>
              </table>
            </div>
          </div>
        </div>
        <div class="review-section">
          <h3>Review Notes</h3>
          <div class="review-options">
            <label class="review-option"><input type="radio" name="review-dashboardpage" value="accept"> ‚úÖ Accept</label>
            <label class="review-option"><input type="radio" name="review-dashboardpage" value="change"> üîÑ Change Request</label>
            <label class="review-option"><input type="radio" name="review-dashboardpage" value="enhance"> ‚ú® Enhancement</label>
          </div>
          <textarea class="review-textarea" placeholder="Add notes for this component..."></textarea>
        </div>
      </div>

      <!-- COMPONENT: AiGatewayChatPage -->
      <div id="aigatewaychatpage" class="component-card" data-scope="unchanged">
        <div class="card-header">
          <div class="card-title">
            <div>
              <h2>AiGatewayChatPage</h2>
              <div class="card-path">src/pages/ai/AiGatewayChatPage.tsx</div>
            </div>
          </div>
          <span class="scope-badge context">‚ö™ UNCHANGED</span>
        </div>
        <div class="visual-rep">
          <div class="mock-ui">
            <div class="mock-header" style="display: flex; justify-content: space-between; align-items: center;">
              <span>AI Gateway Chat</span>
              <select class="mock-input" style="width: auto; padding: 6px 10px;"><option>gpt-4o-mini</option><option>claude-3-haiku</option></select>
            </div>
            <div style="min-height: 100px; padding: 16px; background: #1a1a1a; border-radius: 6px; margin-bottom: 12px;">
              <div style="background: #2563eb; color: white; padding: 10px 14px; border-radius: 12px 12px 12px 4px; max-width: 70%; margin-bottom: 12px; font-size: 13px;">Hello! How can I help you today?</div>
              <div style="background: #333; padding: 10px 14px; border-radius: 12px 12px 4px 12px; max-width: 70%; margin-left: auto; font-size: 13px;">What is machine learning?</div>
            </div>
            <div style="display: flex; gap: 8px;">
              <input class="mock-input" placeholder="Type your message..." style="flex: 1;">
              <button class="mock-btn">Send</button>
            </div>
          </div>
        </div>
        <div class="tech-details">
          <button class="tech-toggle" onclick="toggleTech(this)">‚ñ∂ Technical Details</button>
          <div class="tech-content">
            <div class="tech-section">
              <h4>State</h4>
              <ul class="tech-list">
                <li>messages: Message[]</li>
                <li>input: string</li>
                <li>selectedModel: string</li>
                <li>isLoading: boolean</li>
              </ul>
            </div>
            <div class="tech-section">
              <h4>APIs Called</h4>
              <table class="tech-table">
                <tr><th>Endpoint</th><th>Method</th><th>Purpose</th></tr>
                <tr><td>/api/ai/chat</td><td>POST</td><td>Send message to AI provider</td></tr>
              </table>
            </div>
            <div class="tech-section">
              <h4>AI Providers</h4>
              <ul class="tech-list">
                <li>OpenAI: gpt-4o, gpt-4o-mini, gpt-4-turbo</li>
                <li>Anthropic: claude-3-5-sonnet, claude-3-haiku</li>
                <li>Google: gemini-1.5-pro, gemini-1.5-flash</li>
              </ul>
            </div>
          </div>
        </div>
        <div class="review-section">
          <h3>Review Notes</h3>
          <div class="review-options">
            <label class="review-option"><input type="radio" name="review-aigatewaychatpage" value="accept"> ‚úÖ Accept</label>
            <label class="review-option"><input type="radio" name="review-aigatewaychatpage" value="change"> üîÑ Change Request</label>
            <label class="review-option"><input type="radio" name="review-aigatewaychatpage" value="enhance"> ‚ú® Enhancement</label>
          </div>
          <textarea class="review-textarea" placeholder="Add notes for this component..."></textarea>
        </div>
      </div>

      <!-- COMPONENT: FilesPage -->
      <div id="filespage" class="component-card" data-scope="unchanged">
        <div class="card-header">
          <div class="card-title">
            <div>
              <h2>FilesPage</h2>
              <div class="card-path">src/pages/files/FilesPage.tsx</div>
            </div>
          </div>
          <span class="scope-badge context">‚ö™ UNCHANGED</span>
        </div>
        <div class="visual-rep">
          <div class="mock-ui">
            <div class="mock-header" style="display: flex; justify-content: space-between; align-items: center;">
              <span>File Storage</span>
              <div style="display: flex; gap: 8px;">
                <button class="mock-btn" style="background: #333; font-size: 12px; padding: 8px 12px;">+ Folder</button>
                <button class="mock-btn" style="font-size: 12px; padding: 8px 12px;">Upload</button>
              </div>
            </div>
            <div style="font-size: 12px; color: #888; margin-bottom: 12px;">üìÅ / documents</div>
            <table class="mock-table">
              <tr><th>Name</th><th>Size</th><th>Status</th><th>Actions</th></tr>
              <tr><td>üìÑ report.pdf</td><td>2.4 MB</td><td><span style="color: #22c55e;">Extracted</span></td><td>...</td></tr>
              <tr><td>üìÑ data.csv</td><td>156 KB</td><td><span style="color: #f59e0b;">Pending</span></td><td>...</td></tr>
              <tr><td>üìÅ images</td><td>3 items</td><td>‚Äî</td><td>...</td></tr>
            </table>
          </div>
        </div>
        <div class="tech-details">
          <button class="tech-toggle" onclick="toggleTech(this)">‚ñ∂ Technical Details</button>
          <div class="tech-content">
            <div class="tech-section">
              <h4>State</h4>
              <ul class="tech-list">
                <li>files: FileItem[]</li>
                <li>currentPath: string</li>
                <li>loading, uploading: boolean</li>
                <li>selectedFile: FileItem | null</li>
              </ul>
            </div>
            <div class="tech-section">
              <h4>APIs Called</h4>
              <table class="tech-table">
                <tr><th>Endpoint</th><th>Method</th><th>Purpose</th></tr>
                <tr><td>/api/files/list</td><td>GET</td><td>List files in directory</td></tr>
                <tr><td>/api/files/upload</td><td>POST</td><td>Upload file</td></tr>
                <tr><td>/api/files/delete</td><td>DELETE</td><td>Delete file</td></tr>
                <tr><td>/api/files/download</td><td>GET</td><td>Download file</td></tr>
                <tr><td>/api/folders/create</td><td>POST</td><td>Create folder</td></tr>
                <tr><td>/api/folders/delete</td><td>DELETE</td><td>Delete folder</td></tr>
                <tr><td>/api/extraction/trigger</td><td>POST</td><td>Trigger extraction</td></tr>
                <tr><td>/api/extraction/content</td><td>GET</td><td>Get extracted content</td></tr>
              </table>
            </div>
            <div class="tech-section">
              <h4>Database Impact</h4>
              <table class="tech-table">
                <tr><th>Table</th><th>Operation</th><th>Columns</th></tr>
                <tr><td>files</td><td>SELECT/INSERT/DELETE</td><td>file_id, tenant_id, name, path, size</td></tr>
                <tr><td>extraction_jobs</td><td>INSERT</td><td>file_id, status</td></tr>
              </table>
            </div>
          </div>
        </div>
        <div class="review-section">
          <h3>Review Notes</h3>
          <div class="review-options">
            <label class="review-option"><input type="radio" name="review-filespage" value="accept"> ‚úÖ Accept</label>
            <label class="review-option"><input type="radio" name="review-filespage" value="change"> üîÑ Change Request</label>
            <label class="review-option"><input type="radio" name="review-filespage" value="enhance"> ‚ú® Enhancement</label>
          </div>
          <textarea class="review-textarea" placeholder="Add notes for this component..."></textarea>
        </div>
      </div>

      <!-- COMPONENT: RagPreprocessingPage -->
      <div id="ragpreprocessingpage" class="component-card" data-scope="unchanged">
        <div class="card-header">
          <div class="card-title">
            <div>
              <h2>RagPreprocessingPage</h2>
              <div class="card-path">src/pages/rag/RagPreprocessingPage.tsx</div>
            </div>
          </div>
          <span class="scope-badge context">‚ö™ UNCHANGED</span>
        </div>
        <div class="visual-rep">
          <div class="mock-ui">
            <div class="mock-header">RAG Preprocessing</div>
            <div class="mock-content" style="margin-bottom: 16px;">
              <div class="mock-card"><div class="mock-card-title">Total Files</div><div class="mock-card-value">24</div></div>
              <div class="mock-card"><div class="mock-card-title">Extracted</div><div class="mock-card-value">18</div></div>
              <div class="mock-card"><div class="mock-card-title">Pending Jobs</div><div class="mock-card-value">3</div></div>
              <div class="mock-card"><div class="mock-card-title">Q&A Pairs</div><div class="mock-card-value">156</div></div>
            </div>
            <div class="mock-nav">
              <div class="mock-nav-item active">Inventory</div>
              <div class="mock-nav-item">Jobs</div>
            </div>
            <table class="mock-table">
              <tr><th>File</th><th>Status</th><th>Q&A</th><th>Actions</th></tr>
              <tr><td>report.pdf</td><td><span style="color: #22c55e;">Extracted</span></td><td>12</td><td>...</td></tr>
              <tr><td>manual.docx</td><td><span style="color: #f59e0b;">Processing</span></td><td>‚Äî</td><td>...</td></tr>
            </table>
          </div>
        </div>
        <div class="tech-details">
          <button class="tech-toggle" onclick="toggleTech(this)">‚ñ∂ Technical Details</button>
          <div class="tech-content">
            <div class="tech-section">
              <h4>State</h4>
              <ul class="tech-list">
                <li>inventoryStats: InventoryStats</li>
                <li>jobStats: JobStats</li>
                <li>inventory: InventoryItem[]</li>
                <li>jobs: JobItem[]</li>
                <li>activeTab: 'inventory' | 'jobs'</li>
                <li>statusFilter: string</li>
              </ul>
            </div>
            <div class="tech-section">
              <h4>APIs Called</h4>
              <table class="tech-table">
                <tr><th>Endpoint</th><th>Method</th><th>Purpose</th></tr>
                <tr><td>/api/extraction/inventory</td><td>GET</td><td>Fetch file inventory</td></tr>
                <tr><td>/api/extraction/jobs</td><td>GET</td><td>Fetch extraction jobs</td></tr>
                <tr><td>/api/extraction/trigger</td><td>POST</td><td>Trigger extraction</td></tr>
                <tr><td>/api/extraction/content</td><td>GET</td><td>Get extracted content</td></tr>
                <tr><td>/api/qa-generate-background</td><td>POST</td><td>Generate Q&A pairs</td></tr>
                <tr><td>/api/qa/list</td><td>GET</td><td>List Q&A pairs</td></tr>
              </table>
            </div>
            <div class="tech-section">
              <h4>Database Impact</h4>
              <table class="tech-table">
                <tr><th>Table</th><th>Operation</th><th>Columns</th></tr>
                <tr><td>files</td><td>SELECT</td><td>file_id, name, extraction_status</td></tr>
                <tr><td>extraction_jobs</td><td>SELECT/INSERT</td><td>job_id, file_id, status</td></tr>
                <tr><td>qa_pairs</td><td>SELECT/INSERT</td><td>file_id, question, answer</td></tr>
              </table>
            </div>
          </div>
        </div>
        <div class="review-section">
          <h3>Review Notes</h3>
          <div class="review-options">
            <label class="review-option"><input type="radio" name="review-ragpreprocessingpage" value="accept"> ‚úÖ Accept</label>
            <label class="review-option"><input type="radio" name="review-ragpreprocessingpage" value="change"> üîÑ Change Request</label>
            <label class="review-option"><input type="radio" name="review-ragpreprocessingpage" value="enhance"> ‚ú® Enhancement</label>
          </div>
          <textarea class="review-textarea" placeholder="Add notes for this component..."></textarea>
        </div>
      </div>

      <!-- COMPONENT: AdminPage -->
      <div id="adminpage" class="component-card" data-scope="unchanged">
        <div class="card-header">
          <div class="card-title">
            <div>
              <h2>AdminPage</h2>
              <div class="card-path">src/pages/admin/AdminPage.tsx</div>
            </div>
          </div>
          <span class="scope-badge context">‚ö™ UNCHANGED</span>
        </div>
        <div class="visual-rep">
          <div class="mock-ui">
            <div class="mock-header">Admin Dashboard</div>
            <div class="mock-nav">
              <div class="mock-nav-item active">Tenants</div>
              <div class="mock-nav-item">Users</div>
              <div class="mock-nav-item">Memberships</div>
              <div class="mock-nav-item">Prompts</div>
            </div>
            <div style="display: flex; justify-content: flex-end; margin-bottom: 12px;">
              <button class="mock-btn" style="font-size: 12px; padding: 8px 12px;">+ Add Tenant</button>
            </div>
            <table class="mock-table">
              <tr><th>Name</th><th>Slug</th><th>Created</th><th>Actions</th></tr>
              <tr><td>Acme Corp</td><td>acme</td><td>2024-01-15</td><td>...</td></tr>
              <tr><td>Demo Org</td><td>demo</td><td>2024-02-20</td><td>...</td></tr>
            </table>
          </div>
        </div>
        <div class="tech-details">
          <button class="tech-toggle" onclick="toggleTech(this)">‚ñ∂ Technical Details</button>
          <div class="tech-content">
            <div class="tech-section">
              <h4>State</h4>
              <ul class="tech-list">
                <li>activeTab: 'tenants' | 'users' | 'memberships' | 'prompts'</li>
                <li>tenants, users, memberships, prompts: arrays</li>
                <li>loading: boolean</li>
                <li>Modal states for CRUD operations</li>
              </ul>
            </div>
            <div class="tech-section">
              <h4>APIs Called</h4>
              <table class="tech-table">
                <tr><th>Endpoint</th><th>Method</th><th>Purpose</th></tr>
                <tr><td>/api/admin/tenants</td><td>GET/POST/PUT/DELETE</td><td>Manage tenants</td></tr>
                <tr><td>/api/admin/users</td><td>GET/POST/PUT/DELETE</td><td>Manage users</td></tr>
                <tr><td>/api/admin/memberships</td><td>GET/POST/DELETE</td><td>Manage memberships</td></tr>
                <tr><td>/api/admin/prompts</td><td>GET/POST/PUT/DELETE</td><td>Manage AI prompts</td></tr>
              </table>
            </div>
            <div class="tech-section">
              <h4>Database Impact</h4>
              <table class="tech-table">
                <tr><th>Table</th><th>Operation</th><th>Columns</th></tr>
                <tr><td>tenants</td><td>CRUD</td><td>tenant_id, name, slug</td></tr>
                <tr><td>users</td><td>CRUD</td><td>user_id, email, full_name, is_admin</td></tr>
                <tr><td>memberships</td><td>CRUD</td><td>tenant_id, user_id, role</td></tr>
                <tr><td>prompts</td><td>CRUD</td><td>prompt_id, name, content, model</td></tr>
              </table>
            </div>
          </div>
        </div>
        <div class="review-section">
          <h3>Review Notes</h3>
          <div class="review-options">
            <label class="review-option"><input type="radio" name="review-adminpage" value="accept"> ‚úÖ Accept</label>
            <label class="review-option"><input type="radio" name="review-adminpage" value="change"> üîÑ Change Request</label>
            <label class="review-option"><input type="radio" name="review-adminpage" value="enhance"> ‚ú® Enhancement</label>
          </div>
          <textarea class="review-textarea" placeholder="Add notes for this component..."></textarea>
        </div>
      </div>

      <!-- COMPONENT: AppLayout -->
      <div id="applayout" class="component-card" data-scope="unchanged">
        <div class="card-header">
          <div class="card-title">
            <div>
              <h2>AppLayout</h2>
              <div class="card-path">src/components/layout/AppLayout.tsx</div>
            </div>
          </div>
          <span class="scope-badge context">‚ö™ UNCHANGED</span>
        </div>
        <div class="visual-rep">
          <div class="mock-ui" style="display: flex; gap: 0;">
            <div style="width: 180px; background: #1a1a1a; border-right: 1px solid #333; padding: 12px;">
              <div style="font-weight: 600; margin-bottom: 16px; font-size: 14px;">GenAI Widgets</div>
              <div style="font-size: 12px; color: #888; margin-bottom: 8px;">üìä Dashboard</div>
              <div style="font-size: 12px; color: #2563eb; background: #2563eb20; padding: 6px 8px; border-radius: 4px; margin-bottom: 8px;">üí¨ AI Gateway Chat</div>
              <div style="font-size: 12px; color: #888; margin-bottom: 8px;">üìÅ File Storage</div>
              <div style="font-size: 12px; color: #888; margin-bottom: 8px;">üîß RAG Preprocessing</div>
              <div style="border-top: 1px solid #333; margin: 12px 0;"></div>
              <div style="font-size: 12px; color: #888;">‚öôÔ∏è Admin</div>
              <div style="margin-top: auto; padding-top: 20px;">
                <div style="display: flex; align-items: center; gap: 8px; font-size: 11px;">
                  <div style="width: 24px; height: 24px; background: #2563eb; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 10px;">JD</div>
                  <div><div style="color: #ccc;">John Doe</div><div style="color: #666; font-size: 10px;">john@example.com</div></div>
                </div>
              </div>
            </div>
            <div style="flex: 1; padding: 16px; background: #0d0d0d;">
              <div style="color: #666; text-align: center; padding: 40px;">Page Content (Outlet)</div>
            </div>
          </div>
        </div>
        <div class="tech-details">
          <button class="tech-toggle" onclick="toggleTech(this)">‚ñ∂ Technical Details</button>
          <div class="tech-content">
            <div class="tech-section">
              <h4>Navigation Items</h4>
              <ul class="tech-list">
                <li>/dashboard ‚Üí Dashboard (LayoutDashboard icon)</li>
                <li>/ai-gateway-chat ‚Üí AI Gateway Chat (MessageSquare icon)</li>
                <li>/files ‚Üí File Storage (FolderOpen icon)</li>
                <li>/rag-preprocessing ‚Üí RAG Preprocessing (Layers icon)</li>
                <li>/admin ‚Üí Admin (Settings icon) - admin only</li>
              </ul>
            </div>
            <div class="tech-section">
              <h4>State</h4>
              <ul class="tech-list">
                <li>user (from useAuth hook)</li>
                <li>signOut function (from useAuth hook)</li>
              </ul>
            </div>
            <div class="tech-section">
              <h4>Dependencies</h4>
              <ul class="tech-list">
                <li>react-router-dom: NavLink, Outlet, useNavigate</li>
                <li>lucide-react: icons</li>
                <li>@/hooks/useAuth</li>
                <li>@/lib/utils: cn helper</li>
              </ul>
            </div>
          </div>
        </div>
        <div class="review-section">
          <h3>Review Notes</h3>
          <div class="review-options">
            <label class="review-option"><input type="radio" name="review-applayout" value="accept"> ‚úÖ Accept</label>
            <label class="review-option"><input type="radio" name="review-applayout" value="change"> üîÑ Change Request</label>
            <label class="review-option"><input type="radio" name="review-applayout" value="enhance"> ‚ú® Enhancement</label>
          </div>
          <textarea class="review-textarea" placeholder="Add notes for this component..."></textarea>
        </div>
      </div>

      <!-- COMPONENT: ProtectedRoute -->
      <div id="protectedroute" class="component-card" data-scope="unchanged">
        <div class="card-header">
          <div class="card-title">
            <div>
              <h2>ProtectedRoute</h2>
              <div class="card-path">src/components/auth/ProtectedRoute.tsx</div>
            </div>
          </div>
          <span class="scope-badge context">‚ö™ UNCHANGED</span>
        </div>
        <div class="visual-rep">
          <div class="mock-ui">
            <div style="text-align: center; padding: 30px;">
              <div style="font-size: 14px; color: #888; margin-bottom: 16px;">Route Guard Component</div>
              <div style="display: flex; gap: 20px; justify-content: center; align-items: center;">
                <div style="background: #222; padding: 16px; border-radius: 8px; text-align: center;">
                  <div style="font-size: 24px; margin-bottom: 8px;">üîÑ</div>
                  <div style="font-size: 11px; color: #888;">Loading</div>
                  <div style="font-size: 10px; color: #666;">Show spinner</div>
                </div>
                <div style="color: #666;">‚Üí</div>
                <div style="background: #222; padding: 16px; border-radius: 8px; text-align: center;">
                  <div style="font-size: 24px; margin-bottom: 8px;">‚ùå</div>
                  <div style="font-size: 11px; color: #888;">No User</div>
                  <div style="font-size: 10px; color: #666;">Redirect to login</div>
                </div>
                <div style="color: #666;">‚Üí</div>
                <div style="background: #222; padding: 16px; border-radius: 8px; text-align: center;">
                  <div style="font-size: 24px; margin-bottom: 8px;">‚úÖ</div>
                  <div style="font-size: 11px; color: #888;">Authenticated</div>
                  <div style="font-size: 10px; color: #666;">Render Outlet</div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="tech-details">
          <button class="tech-toggle" onclick="toggleTech(this)">‚ñ∂ Technical Details</button>
          <div class="tech-content">
            <div class="tech-section">
              <h4>Logic Flow</h4>
              <ul class="tech-list">
                <li>If loading ‚Üí Show spinner</li>
                <li>If !user ‚Üí Navigate to /auth/login with returnUrl</li>
                <li>If user ‚Üí Render &lt;Outlet /&gt;</li>
              </ul>
            </div>
            <div class="tech-section">
              <h4>Dependencies</h4>
              <ul class="tech-list">
                <li>react-router-dom: Navigate, Outlet, useLocation</li>
                <li>@/hooks/useAuth</li>
              </ul>
            </div>
          </div>
        </div>
        <div class="review-section">
          <h3>Review Notes</h3>
          <div class="review-options">
            <label class="review-option"><input type="radio" name="review-protectedroute" value="accept"> ‚úÖ Accept</label>
            <label class="review-option"><input type="radio" name="review-protectedroute" value="change"> üîÑ Change Request</label>
            <label class="review-option"><input type="radio" name="review-protectedroute" value="enhance"> ‚ú® Enhancement</label>
          </div>
          <textarea class="review-textarea" placeholder="Add notes for this component..."></textarea>
        </div>
      </div>

      <!-- COMPONENT: AuthContext -->
      <div id="authcontext" class="component-card" data-scope="unchanged">
        <div class="card-header">
          <div class="card-title">
            <div>
              <h2>AuthContext</h2>
              <div class="card-path">src/contexts/AuthContext.tsx</div>
            </div>
          </div>
          <span class="scope-badge context">‚ö™ UNCHANGED</span>
        </div>
        <div class="visual-rep">
          <div class="mock-ui">
            <div style="text-align: center; padding: 20px;">
              <div style="font-size: 14px; color: #888; margin-bottom: 16px;">Authentication State Provider</div>
              <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; max-width: 400px; margin: 0 auto;">
                <div style="background: #222; padding: 12px; border-radius: 6px; text-align: left;">
                  <div style="font-size: 10px; color: #666; margin-bottom: 4px;">State</div>
                  <div style="font-size: 12px; color: #ccc;">user: User | null</div>
                  <div style="font-size: 12px; color: #ccc;">tenant: Tenant | null</div>
                  <div style="font-size: 12px; color: #ccc;">loading: boolean</div>
                </div>
                <div style="background: #222; padding: 12px; border-radius: 6px; text-align: left;">
                  <div style="font-size: 10px; color: #666; margin-bottom: 4px;">Methods</div>
                  <div style="font-size: 12px; color: #2563eb;">signIn()</div>
                  <div style="font-size: 12px; color: #22c55e;">signUp()</div>
                  <div style="font-size: 12px; color: #f59e0b;">signOut()</div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="tech-details">
          <button class="tech-toggle" onclick="toggleTech(this)">‚ñ∂ Technical Details</button>
          <div class="tech-content">
            <div class="tech-section">
              <h4>Context Value</h4>
              <ul class="tech-list">
                <li>user: User | null</li>
                <li>tenant: Tenant | null</li>
                <li>loading: boolean</li>
                <li>signIn(email, password): Promise&lt;void&gt;</li>
                <li>signUp(email, password, fullName, tenantId): Promise&lt;void&gt;</li>
                <li>signOut(): Promise&lt;void&gt;</li>
              </ul>
            </div>
            <div class="tech-section">
              <h4>APIs Called</h4>
              <table class="tech-table">
                <tr><th>Endpoint</th><th>Method</th><th>Purpose</th></tr>
                <tr><td>/api/auth/signin</td><td>POST</td><td>Authenticate user</td></tr>
                <tr><td>/api/auth/signup</td><td>POST</td><td>Register new user</td></tr>
                <tr><td>/api/auth/me</td><td>GET</td><td>Validate token & get user</td></tr>
              </table>
            </div>
            <div class="tech-section">
              <h4>Token Storage</h4>
              <ul class="tech-list">
                <li>localStorage key: "auth_token"</li>
                <li>JWT with userId, email, tenantId claims</li>
              </ul>
            </div>
          </div>
        </div>
        <div class="review-section">
          <h3>Review Notes</h3>
          <div class="review-options">
            <label class="review-option"><input type="radio" name="review-authcontext" value="accept"> ‚úÖ Accept</label>
            <label class="review-option"><input type="radio" name="review-authcontext" value="change"> üîÑ Change Request</label>
            <label class="review-option"><input type="radio" name="review-authcontext" value="enhance"> ‚ú® Enhancement</label>
          </div>
          <textarea class="review-textarea" placeholder="Add notes for this component..."></textarea>
        </div>
      </div>

    </div>
  </div>

  <!-- Export Button -->
  <div class="export-section">
    <button class="export-btn" onclick="exportNotes()">üìÑ Export Notes</button>
  </div>

  <script>
    function toggleTech(btn) {
      const content = btn.nextElementSibling;
      const isOpen = content.classList.toggle('open');
      btn.textContent = (isOpen ? '‚ñº' : '‚ñ∂') + ' Technical Details';
    }

    document.querySelectorAll('.filter-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        const filter = btn.dataset.filter;
        document.querySelectorAll('.component-card').forEach(card => {
          if (filter === 'all' || card.dataset.scope === filter) {
            card.classList.remove('hidden');
          } else {
            card.classList.add('hidden');
          }
        });
      });
    });

    function exportNotes() {
      const date = new Date().toISOString().split('T')[0];
      let md = `# Architectural Review Notes - GenAIWidgets\n**Review Date:** ${date}\n**Scope:** full | Components: 11 total\n\n---\n\n`;
      
      document.querySelectorAll('.component-card').forEach(card => {
        const name = card.querySelector('h2').textContent;
        const path = card.querySelector('.card-path').textContent;
        const scopeBadge = card.querySelector('.scope-badge').textContent.trim();
        const selectedRadio = card.querySelector('input[type="radio"]:checked');
        const status = selectedRadio ? selectedRadio.value : 'not reviewed';
        const notes = card.querySelector('.review-textarea').value || 'No notes';
        
        md += `## Component: ${name}\n`;
        md += `**Scope Status:** ${scopeBadge}\n`;
        md += `**Review Status:** ${status}\n`;
        md += `**Notes:**\n${notes}\n\n`;
        md += `**Technical Context:**\n- File: ${path}\n\n---\n\n`;
      });

      const blob = new Blob([md], { type: 'text/markdown' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `review-notes-${date}.md`;
      a.click();
      URL.revokeObjectURL(url);
    }
  </script>
</body>
</html>
